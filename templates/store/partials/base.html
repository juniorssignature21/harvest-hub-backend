{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Track Order — Abiagrow.connect</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#15803d",
            },
          },
        },
      };

      function initMap() {
        const orderLocation = { lat: 6.5244, lng: 3.3792 }; // Lagos example
        const destination = { lat: 6.465422, lng: 3.406448 }; // Example destination

        const map = new google.maps.Map(document.getElementById("map"), {
          zoom: 11,
          center: orderLocation,
        });

        new google.maps.Marker({
          position: orderLocation,
          map,
          title: "Rider Location",
          icon: "https://maps.google.com/mapfiles/ms/icons/green-dot.png",
        });

        new google.maps.Marker({
          position: destination,
          map,
          title: "Destination",
          icon: "https://maps.google.com/mapfiles/ms/icons/red-dot.png",
        });

        const route = new google.maps.Polyline({
          path: [orderLocation, destination],
          geodesic: true,
          strokeColor: "#15803d",
          strokeOpacity: 1.0,
          strokeWeight: 4,
        });

        route.setMap(map);
      }
    </script>
    {% tailwind_css %}
  </head>
  <body class="bg-green-50" onload="initMap()">
    <div class="w-full min-h-screen flex">
      <aside
        class="w-72 bg-gray-50 border-r border-gray-100 p-6 flex flex-col justify-between"
      >
        <div>
          <div class="flex items-center space-x-3 mb-6">
            <div
              class="w-10 h-10 rounded-full bg-green-700 flex items-center justify-center text-white text-lg font-bold"
            >
              B
            </div>
            <div>
              <div class="font-bold text-lg text-green-800">Buyer</div>
              <div class="text-sm text-green-500">Abiagrow.connect</div>
            </div>
          </div>

          <div class="flex items-center space-x-3 mb-5">
            <img
              alt="avatar"
              class="w-12 h-12 rounded-full ring-2 ring-green-200"
              src="https://i.pravatar.cc/100?img=15"
            />
            <div>
              <div class="font-semibold text-green-900">Ghost FX</div>
              <div class="text-sm text-green-500">Buyer</div>
            </div>
          </div>

          <nav class="mt-4 space-y-2">
            <a
              class="flex items-center gap-3 px-3 py-4 rounded-lg hover:bg-green-50 text-green-700"
              href="{% url "store:dashboard" %}"
              ><i class="bi bi-speedometer2"></i>Dashboard</a
            >
            <a
              class="flex items-center gap-3 px-3 py-4 rounded-lg hover:bg-green-50 text-green-700"
              href="myorder.html"
              ><i class="bi bi-bag-check"></i>My Orders</a
            >
            <a
              class="flex items-center gap-3 px-3 py-4 rounded-lg hover:bg-green-50 text-green-700"
              href="settings.html"
              ><i class="bi bi-gear"></i>Settings</a
            >
          </nav>

          <div class="mt-6">
            <a href="ai-chat.html"
              ><button
                class="w-full text-left px-3 py-4 rounded-lg bg-blue-50 text-blue-700 flex items-center gap-3"
              >
                <i class="bi bi-chat-left-text"></i>AI Assistant Chat
              </button></a
            >
          </div>
        </div>

        <div class="text-sm text-green-500">
          <div class="mt-6">
            <a class="flex items-center gap-2" href="#"
              ><i class="bi bi-question-circle"></i>Help & Support</a
            >
          </div>
          <div class="mt-4">
            <a class="flex items-center gap-2" href="#"
              ><i class="bi bi-box-arrow-right"></i>Sign Out</a
            >
          </div>
          <div class="mt-6 text-xs text-green-400">© 2025 Abiagrow.connect</div>
        </div>
      </aside>
      <!-- MAIN DASHBOARD -->
      <main class="flex-1 p-10 overflow-y-auto">
        {% block content %} {% endblock content %}
        <!-- FLOATING MARKETPLACE BUTTON WITH LABEL -->
        <div class="fixed bottom-6 right-6 flex flex-col items-center z-50">
          <!-- Button -->
          <a
            href="/marketplace"
            class="w-16 h-16 bg-green-600 text-white rounded-full shadow-xl flex items-center justify-center hover:scale-110 transition-transform duration-200"
          >
            <i class="bi bi-shop text-3xl"></i>
          </a>
          <!-- Label -->
          <span class="mt-2 text-sm font-semibold text-black">Marketplace</span>
        </div>
      </main>
    </div>
  </body>
</html>
